@use "../variables" as *;
@use "../mixins" as *;
@use "../breakpoints" as breakpoint;

// =============================================================================
// SPLIT SECTIONS (contained width)
// =============================================================================

.design-system {
  .split {
    @include grid(1, $space-2xl);
    align-items: start;

    @include breakpoint.up("md") {
      @include grid(2, $space-3xl);
    }

    &--reverse {
      @include breakpoint.up("md") {
        > :first-child {
          order: 2;
        }
        > :last-child {
          order: 1;
        }
      }
    }

    > figure {
      border-radius: $radius-xl;
      overflow: hidden;
      border: $border-light;

      img {
        width: 100%;
        height: auto;
      }
    }
  }

  // ===========================================================================
  // SPLIT FULL-WIDTH (two-tone sections)
  // ===========================================================================

  .split-full {
    display: flex;
    flex-direction: column;

    @include breakpoint.up("md") {
      flex-direction: row;
    }

    // Child panels
    .left,
    .right {
      flex: 1;
      padding: $space-3xl $space-md;
      display: flex;

      @include breakpoint.up("md") {
        padding: $space-3xl $space-lg;
      }

      > * {
        width: 100%;
        max-width: calc(#{$width-wide} / 2);
      }
    }

    .left {
      background: var(--body-background-alt);
      justify-content: flex-end;

      > * {
        @include breakpoint.up("md") {
          padding-right: $space-2xl;
        }
      }
    }

    .right {
      background: var(--color-card-bg);
      justify-content: flex-start;

      > * {
        @include breakpoint.up("md") {
          padding-left: $space-2xl;
        }
      }
    }

    // Color variants â€” opposite panel resets
    &.dark-left .right,
    &.dark-right .left {
      background: var(--color-bg);
    }

    // Dark colored panels
    &.dark-left .left,
    &.dark-right .right {
      background: $color-dark-bg;
      color: $color-dark-text;
      --color-text: #{$color-dark-text};
      --color-text-muted: #{$color-dark-text-muted};
      --split-btn-color: #{$color-dark-text};
      --split-btn-hover-bg: #{$color-dark-text};
      --split-btn-hover-color: #{$color-dark-bg};
    }

    // Primary colored panels
    &.primary-left .left,
    &.primary-right .right {
      background: var(--color-link);
      color: $color-white;
      --color-text: #{$color-white};
      --color-text-muted: rgba(255, 255, 255, 0.8);
      --split-btn-color: #{$color-white};
      --split-btn-hover-bg: #{$color-white};
      --split-btn-hover-color: #{$color-text};
    }

    // Button overrides for colored panels
    &.dark-left .left,
    &.dark-right .right,
    &.primary-left .left,
    &.primary-right .right {
      .btn {
        border-color: var(--split-btn-color);
        color: var(--split-btn-color);

        &:hover:not(:disabled) {
          background: var(--split-btn-hover-bg);
          color: var(--split-btn-hover-color);
        }
      }
    }
  }
}
