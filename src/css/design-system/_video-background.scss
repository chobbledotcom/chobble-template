@use "../variables" as *;
@use "../mixins" as *;

// =============================================================================
// VIDEO BACKGROUND
// =============================================================================
// Full-width video background with overlaid text content.
// The video plays automatically, muted, and doesn't respond to user interaction.

.design-system {
  // Remove section padding when containing a video-background
  section:has(> .video-background),
  section:has(> .container > .video-background) {
    padding: 0;
  }

  .video-background {
    position: relative;
    width: 100%;
    overflow: hidden;
    background: $color-dark-bg;

    // The iframe covers the entire container
    > iframe {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100%;
      height: 100%;
      min-width: 100%;
      min-height: 100%;
      transform: translate(-50%, -50%);
      object-fit: cover;
      pointer-events: none; // Disable interaction with video
      border: 0;

      // Scale up to ensure coverage without letterboxing
      @supports (aspect-ratio: 16/9) {
        width: 177.77vh; // 16:9 ratio
        height: 56.25vw;
        min-width: 100%;
        min-height: 100%;
      }
    }

    @include media-background-overlay;

    &--light-overlay {
      @include media-background-light-overlay;
    }

    &--minimal-overlay {
      @include media-background-minimal-overlay;
    }
  }
}
