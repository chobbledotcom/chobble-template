// =============================================================================
// THEME ADAPTER
// =============================================================================
// This file bridges legacy theme CSS variables with the design system.
// It provides CSS fallback chains so design-system components work with
// existing themes that define --color-* and --font-family-* variables.
//
// PRIORITY ORDER (highest to lowest):
// 1. Legacy theme variables (--color-link, --font-family-*, etc.) - existing themes
// 2. SCSS defaults from _variables.scss - fallback values
//
// NAMING CONVENTION:
// All color variables use --color-* prefix. Font variables use --font-* prefix.
//
// NOTE: Legacy themes set --color-bg, --color-text, and --color-accent on :root.
// Because the design system uses the same names, these three cannot use
// var(--color-X, fallback) without creating a CSS self-reference cycle.
// They use SCSS defaults directly; customize via _theme-variables.scss.
//
// VARIABLE MAPPING:
// | Design System       | Legacy Theme          | SCSS Default         |
// |---------------------|-----------------------|----------------------|
// | --color-bg          | (same name)           | $color-bg            |
// | --color-bg-alt      | (none)                | $color-bg-alt        |
// | --color-card-bg     | (none)                | $color-card-bg       |
// | --color-text        | (same name)           | $color-text          |
// | --color-text-muted  | (none)                | $color-text-muted    |
// | --color-primary     | --color-link          | $color-primary       |
// | --color-primary-dk  | --color-link-hover    | $color-primary-dark  |
// | --color-primary-lt  | (none)                | $color-primary-light |
// | --color-secondary   | --color-link          | $color-secondary     |
// | --color-accent      | (same name)           | $color-accent        |
// | --color-hover-bg    | (none)                | $color-hover-bg      |
// | --font-sans         | --font-family-body    | $font-sans           |
// | --font-heading      | --font-family-heading | $font-sans           |
// | --font-mono         | (none)                | $font-mono           |
//
// =============================================================================

@use "variables" as *;

// Mixin to apply the theme adapter CSS variables
// This is used in _base.scss to set up the fallback chain
@mixin theme-adapter-properties {
  // Colors sharing names with legacy themes (no var fallback - see note above)
  --color-bg: #{$color-bg};
  --color-bg-alt: #{$color-bg-alt};
  --color-card-bg: #{$color-card-bg};
  --color-text: #{$color-text};
  --color-text-muted: #{$color-text-muted};
  --color-accent: #{$color-accent};
  --color-hover-bg: #{$color-hover-bg};
  --color-primary-lt: #{$color-primary-light};

  // Colors remapped from different legacy variable names
  --color-primary: var(--color-link, #{$color-primary});
  --color-primary-dk: var(--color-link-hover, #{$color-primary-dark});
  --color-secondary: var(--color-link, #{$color-secondary});

  // Typography - use legacy font-family if available
  --font-sans: var(--font-family-body, #{$font-sans});
  --font-heading: var(--font-family-heading, #{$font-sans});
  --font-mono: #{$font-mono};
}
