{%- assign posts = collections.news | reverse -%}
{%- assign shown_count = 0 -%}
<ul class="news-posts">
  {%- for post in posts -%}
  {%- unless post.data.no_index -%}
  {%- if limit == nil or shown_count < limit -%}
  <li>
    {%- if post.data.thumbnail -%}
      <a class="thumbnail" href="{{ post.url }}#content">
        {%- image post.data.thumbnail, post.data.title, "200, 300, 400", "", "", "1/1" -%}
      </a>
    {%- endif -%}
    <div class="details">
      <strong>{{ post.date | date: "%b %-d, %Y" }}:</strong>
      <a href="{{ post.url }}#content"> {{ post.data.header_text | escape }} </a>
      {% if post.data.subtitle and post.data.subtitle != "" %}
        <br />
        {{ post.data.subtitle | escape }}
      {% endif %}
    </div>
  </li>
  {%- assign shown_count = shown_count | plus: 1 -%}
  {%- endif -%}
  {%- endunless -%}
  {%- endfor -%}
</ul>
