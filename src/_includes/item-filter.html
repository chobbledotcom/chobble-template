{%- comment -%}
Generic filter UI component
Parameters:
  - filterUI: Pre-computed filter UI data from buildFilterUIData or buildPropertyFilterUIData
{%- endcomment -%}

{%- if filterUI.hasFilters -%}
<div class="item-filter" data-filter-container>
  {%- if filterUI.hasActiveFilters -%}
  <ul class="filter-active" data-active-filters>
    {%- for filter in filterUI.activeFilters -%}
    <li>
      <span>{{ filter.key }}: {{ filter.value }}</span>
      <a href="{{ filter.removeUrl }}" data-remove-filter="{{ filter.removeFilterKey }}" aria-label="Remove {{ filter.key }} filter">Ã—</a>
    </li>
    {%- endfor -%}
    <li><a href="{{ filterUI.clearAllUrl }}" data-clear-filters>Clear all</a></li>
  </ul>
  {%- endif -%}

  <ul class="filter-groups">
    {%- for group in filterUI.groups -%}
    <li>
      {%- if group.name == "sort" -%}
      {%- include "filter-sort-dropdown.html" -%}
      {%- else -%}
      <span>{{ group.label }}</span>
      {%- assign options = group.options -%}
      {%- include "filter-options-list.html" -%}
      {%- endif -%}
    </li>
    {%- endfor -%}
  </ul>
</div>
{%- endif -%}
