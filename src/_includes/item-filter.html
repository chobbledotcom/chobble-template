{%- comment -%}
Generic filter UI component
Parameters:
  - filterUI: Pre-computed filter UI data from buildFilterUIData or buildPropertyFilterUIData
{%- endcomment -%}

{%- if filterUI.hasFilters -%}
<div class="item-filter">
  {%- if filterUI.hasActiveFilters -%}
  <ul class="filter-active">
    {%- for filter in filterUI.activeFilters -%}
    <li>
      <span>{{ filter.key }}: {{ filter.value }}</span>
      <a href="{{ filter.removeUrl }}" aria-label="Remove {{ filter.key }} filter">Ã—</a>
    </li>
    {%- endfor -%}
    <li><a href="{{ filterUI.clearAllUrl }}">Clear all</a></li>
  </ul>
  {%- endif -%}

  <ul class="filter-groups">
    {%- for group in filterUI.groups -%}
    <li>
      {%- if group.name == "sort" -%}
      <label class="sort-dropdown">
        <span>{{ group.label }}</span>
        <select class="sort-select">
          {%- for option in group.options -%}
          <option value="{{ option.url }}"{% if option.active %} selected{% endif %}>{{ option.value }}</option>
          {%- endfor -%}
        </select>
      </label>
      <noscript>
        <p>JavaScript is required for the sort dropdown.</p>
        {%- assign options = group.options -%}
        {%- include "filter-options-list.html" -%}
      </noscript>
      {%- else -%}
      <span>{{ group.label }}</span>
      {%- assign options = group.options -%}
      {%- include "filter-options-list.html" -%}
      {%- endif -%}
    </li>
    {%- endfor -%}
  </ul>
</div>
{%- endif -%}
