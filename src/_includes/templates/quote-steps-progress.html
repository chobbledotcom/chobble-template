{%- comment -%}
Step progress indicator for the quote process.
Parameters:
  - completed_steps: Number of steps already completed (default: 0)
                     Use 0 for /quote/ (step 1 active)
                     Use 1 for /checkout/ (step 1 completed, step 2 active)
{%- endcomment -%}

{%- assign completed = completed_steps | default: 0 -%}
{%- assign active_index = completed -%}

<div class="quote-steps-progress">
  {%- for step in quoteFields.steps -%}
    {%- if forloop.index0 < completed -%}
      {%- assign step_class = "completed" -%}
    {%- elsif forloop.index0 == active_index -%}
      {%- assign step_class = "active" -%}
    {%- else -%}
      {%- assign step_class = "" -%}
    {%- endif -%}
    <div class="quote-steps-indicator {{ step_class }}" data-step="{{ forloop.index0 }}">
      <span class="step-name">{{ step.name }}</span>
      <span class="step-number">{{ step.number }}</span>
    </div>
    {%- unless forloop.last -%}
      <div class="quote-steps-connector"></div>
    {%- endunless -%}
  {%- endfor -%}
</div>
