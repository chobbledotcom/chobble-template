{% if gallery.size > 0 %}

<div class="current-image">
  {% assign image = gallery[0] %}
  {%- capture alt_text -%}{%- include "get-alt-text.html" -%}{%- endcapture -%}
  {% image image, alt_text, config.products.gallery_image_widths %}
</div>

<div aria-hidden="true" class="gallery-full-size-images">
  {%- for image in gallery -%}
    {%- capture alt_text -%}{%- include "get-alt-text.html" -%}{%- endcapture -%}
    <div class="full-image-{{ forloop.index }}">
      {% image image, alt_text, config.products.gallery_image_widths, "fade-in" %}
    </div>
  {% endfor %}
</div>

{%- if gallery.size > 1 -%}
<noscript><p>JavaScript is required to switch between gallery images. You can still view individual images by clicking on them.</p></noscript>
<ul id="gallery" class="image-gallery">
  {%- for image in gallery -%}
    {%- capture alt_text -%}{%- include "get-alt-text.html" -%}{%- endcapture -%}
    <li>
      <a
        href="
          {%- if image[0] == "/" -%}
            {{- image -}}
          {%- else -%}
            /images/{{ image -}}
          {%- endif -%}
        "
        data-index="{{ forloop.index }}"
        class="image-link gallery-switcher"
      >
        <figure>
          {% image image, alt_text, config.products.gallery_thumb_widths %}
        </figure>
      </a>
    </li>
  {%- endfor -%}
</ul>
{%- endif -%}

{%- endif -%}
