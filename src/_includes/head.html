<head>
  {%- include "head-meta.html" -%}

  {%- assign css_bundle = layout | getCssBundle: config.design_system_layouts -%}
  {%- assign js_bundle = layout | getJsBundle: config.design_system_layouts -%}
  {%- assign uses_design_system = layout | usesDesignSystem: config.design_system_layouts -%}

  <link
    rel="stylesheet"
    href="{{ css_bundle | cacheBust }}"
  >

  {%- comment -%}Include design system bundle when blocks are present but not using full design system layout{%- endcomment -%}
  {%- if blocks.size > 0 and uses_design_system == false -%}
  <link
    rel="stylesheet"
    href="{{ '/css/design-system-bundle.css' | cacheBust }}"
  >
  {%- endif -%}

  {%- include "js-config-script.html" -%}

  <script
    type="module"
    src="{{ js_bundle | cacheBust }}"
  ></script>

  {%- if blocks.size > 0 and uses_design_system == false -%}
  <script
    type="module"
    src="{{ '/assets/js/design-system.js' | cacheBust }}"
  ></script>
  {%- endif -%}

  {%- if collections.news.size > 0 -%}
    <link
      rel="alternate"
      type="application/atom+xml"
      href="/feed.xml"
      title="News"
    >
  {%- endif -%}

  {%- include "head-schema.html" -%}

  {%- include "head-scripts.html" -%}
</head>
