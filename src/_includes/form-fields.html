{%- comment -%}
Renders form fields from contactForm.fields
Parameters:
  - skipShowOn: if true, skip fields with showOn (for quote checkout)
  - fields: optional override for fields array (defaults to contactForm.fields)
{%- endcomment -%}
{%- assign fieldsToRender = fields | default: contactForm.fields -%}
{%- for field in fieldsToRender -%}
  {%- if field.type == "divider" -%}
    {%- continue -%}
  {%- endif -%}
  {%- assign shouldShow = true -%}
  {%- if field.showOn -%}
    {%- if skipShowOn -%}
      {%- assign shouldShow = false -%}
    {%- else -%}
      {%- unless tags contains field.showOn -%}
        {%- assign shouldShow = false -%}
      {%- endunless -%}
    {%- endif -%}
  {%- endif -%}
  {%- if shouldShow -%}
    {%- include field.template, field: field, pageTitle: title -%}
  {%- endif -%}
{%- endfor -%}
