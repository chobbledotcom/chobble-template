{%- comment -%}
Code block with terminal-style header and decorative dots.

Accepts either direct parameters or a block object:
  Direct: filename, code, language, reveal
  Block:  block.filename, block.code, block.language, block.reveal

Usage (direct params - used by split figure):
  {% include "design-system/code-block.html",
     filename: "example.js", code: "const x = 1;", language: "javascript"
  %}

Usage (block object - used by standalone code-block type):
  {% include "design-system/code-block.html",
     block: { filename: "example.js", code: "const x = 1;" }
  %}
{%- endcomment -%}

{%- assign _filename = filename | default: block.filename -%}
{%- assign _code = code | default: block.code -%}
{%- assign _language = language | default: block.language -%}
{%- assign _reveal = reveal | default: block.reveal -%}

<div class="code-block"{% if _reveal %} data-reveal="{{ _reveal }}"{% endif %}>
  <div class="code-block-toolbar">
    <div class="dots" aria-hidden="true"><span></span><span></span><span></span></div>
    <span>{{ _filename }}</span>
  </div>
  <pre><code{% if _language %} data-language="{{ _language }}"{% endif %}>{{ _code }}</code></pre>
</div>
