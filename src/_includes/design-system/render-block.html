{%- comment -%}
Renders a single block by type. Used by both blocks.html and landing-page.html.
{%- endcomment -%}

{%- case block.type -%}

  {%- when "section-header" -%}
    {%- assign _level = block.level | default: 2 -%}
    {%- assign _align = block.align | default: "center" -%}
    {%- include "design-system/section-header.html",
        title: block.title, subtitle: block.subtitle,
        level: _level, align: _align, class: block.class
    -%}

  {%- when "features" -%}
    {%- assign _heading_level = block.heading_level | default: 3 -%}
    {%- include "design-system/features.html",
        items: block.items, reveal: block.reveal, heading_level: _heading_level,
        grid_class: block.grid_class, header_title: block.header_title,
        header_subtitle: block.header_subtitle
    -%}

  {%- when "image-cards" -%}
    {%- assign _heading_level = block.heading_level | default: 3 -%}
    {%- include "design-system/image-cards.html",
        items: block.items, reveal: block.reveal, heading_level: _heading_level,
        image_aspect_ratio: block.image_aspect_ratio
    -%}

  {%- when "stats" -%}
    {%- include "design-system/stats.html", items: block.items, reveal: block.reveal -%}

  {%- when "code-block" -%}
    {%- include "design-system/code-block.html",
        filename: block.filename, code: block.code,
        language: block.language, reveal: block.reveal
    -%}

  {%- when "hero" -%}
    {%- include "design-system/hero.html",
        badge: block.badge, title: block.title, lead: block.lead,
        buttons: block.buttons, class: block.class
    -%}

  {%- when "split" -%}
    {%- assign _title_level = block.title_level | default: 2 -%}
    {%- include "design-system/split.html",
        title: block.title, title_level: _title_level, subtitle: block.subtitle,
        content: block.content, figure_type: block.figure_type,
        figure_content: block.figure_content, reverse: block.reverse,
        reveal_content: block.reveal_content, reveal_figure: block.reveal_figure,
        button: block.button
    -%}

  {%- when "cta" -%}
    {%- include "design-system/cta.html",
        title: block.title, description: block.description, button: block.button
    -%}

  {%- when "footer" -%}
    {%- include "design-system/footer.html",
        text: block.text, links: block.links, aria_label: block.aria_label
    -%}

  {%- when "markdown" -%}
    {{ block.content | renderContent: "md" }}

  {%- when "html" -%}
    {{ block.content }}

  {%- when "video-background" -%}
    {%- include "design-system/video-background.html",
        video_url: block.video_url, video_title: block.video_title,
        content: block.content, aspect_ratio: block.aspect_ratio,
        overlay_style: block.overlay_style, class: block.class
    -%}

{%- endcase -%}
